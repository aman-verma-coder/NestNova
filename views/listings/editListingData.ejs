<% layout("/layout/boilerplate") -%>

        <body>
                <div class="row mt-4">
                        <div class="col-8 offset-2">
                                <h2>Edit Your Listed Data</h2>
                                <h3 name="title" class="form-text">Title: <%= editNeeded.title %>
                                </h3>
                                <form method="post" action="/listings/<%= editNeeded.id %>/edit?_method=PUT" novalidate
                                        class="needs-validation" enctype="multipart/form-data">
                                        <div class="mb-3">
                                                <label for="edit-description" class="form-label"
                                                        aria-colcount="form-label">Description:</label>
                                                <textarea name="description" id="edit-description"
                                                        placeholder="Enter Edited Description" class="form-control"
                                                        required><%= editNeeded.description %></textarea>
                                                <div class="valid-feedback">Description is valid</div>
                                                <div class="invalid-feedback">Invalid Description</div>
                                        </div>
                                        <div class="mb-3">
                                                Original Listing Image: <br>
                                                <img src="<%= originalImageUrl %>" class="card-img-top show-img" alt="#"
                                                        style="width: 25% !important; height:max-content;">
                                                <!-- <label for="original-image" class="form-label">Image:</label>
                                        <input type="file" name="image" id="original-image" class="form-control"> -->
                                        </div>
                                        <div class="mb-3">
                                                <label for="edit-image" class="form-label">Upload New Image:</label>
                                                <input type="file" name="image" id="edit-image" class="form-control">
                                                <!-- <textarea name="image" id="edit-image"
                                                placeholder="Enter Edited Image URL" class="form-control"
                                                required><%= editNeeded.image %></textarea> -->
                                                <div class="valid-feedback">Image is valid</div>
                                                <!-- <div class="invalid-feedback">Invalid Image Link / URL</div> -->
                                        </div>
                                        <div class="row">
                                                <div class="mb-3 col-md-4">
                                                        <label for="edit-price" class="form-label">Price:</label>
                                                        <input type="number" name="price" id="edit-price"
                                                                placeholder="Enter Edited Price"
                                                                value="<%= editNeeded.price %>" class="form-control"
                                                                required>
                                                        <div class="valid-feedback">Price is valid</div>
                                                        <div class="invalid-feedback">Invalid Price</div>
                                                </div>
                                                <div class="mb-3 col-md-8">
                                                        <label for="location" class="form-label">Location:</label>
                                                        <input type="text" name="location" id="location"
                                                                placeholder="Enter Edited Location"
                                                                value="<%= editNeeded.location %>" class="form-control"
                                                                required>
                                                        <div class="valid-feedback">Location is valid</div>
                                                        <div class="invalid-feedback">Invalid Location</div>
                                                </div>
                                        </div>
                                        <div class="mb-3">
                                                <label for="country" class="form-label">Country:</label>
                                                <input type="text" name="country" id="country"
                                                        placeholder="Enter Edited Country"
                                                        value="<%= editNeeded.country %>" class="form-control" required>
                                                <div class="valid-feedback">Country is valid</div>
                                                <div class="invalid-feedback">Invalid Country</div>
                                        </div>

                                        <div class="mb-3">
                                                <label class="form-label">Amenities:</label>
                                                <div class="row ps-3">
                                                        <div class="col-md-4 mb-2">
                                                                <div class="form-check">
                                                                        <input class="form-check-input" type="checkbox"
                                                                                value="Wifi" id="wifi" name="amenities"
                                                                                <%
                                                                                if(editNeeded.amenities?.includes('Wifi')) { %>checked<% } %>>
                                                                                <label class="form-check-label"
                                                                                        for="wifi">Wifi</label>
                                                                </div>
                                                        </div>
                                                        <div class="col-md-4 mb-2">
                                                                <div class="form-check">
                                                                        <input class="form-check-input" type="checkbox"
                                                                                value="Kitchen" id="kitchen"
                                                                                name="amenities" <%
                                                                                if(editNeeded.amenities?.includes('Kitchen')) { %>checked<% } %>>
                                                                                <label class="form-check-label"
                                                                                        for="kitchen">Kitchen</label>
                                                                </div>
                                                        </div>
                                                        <div class="col-md-4 mb-2">
                                                                <div class="form-check">
                                                                        <input class="form-check-input" type="checkbox"
                                                                                value="Air Conditioning" id="ac"
                                                                                name="amenities" <%
                                                                                if(editNeeded.amenities?.includes('Air Conditioning')) { %>checked<% } %>><label class="form-check-label" for="ac">Air Conditioning</label>
                                                                </div>
                                                        </div>
                                                        <div class="col-md-4 mb-2">
                                                                <div class="form-check">
                                                                        <input class="form-check-input" type="checkbox"
                                                                                value="Free Parking" id="parking"
                                                                                name="amenities" <%
                                                                                if(editNeeded.amenities?.includes('Free Parking')) { %>checked<% } %>><label class="form-check-label" for="parking">Free Parking</label>
                                                                </div>
                                                        </div>
                                                        <div class="col-md-4 mb-2">
                                                                <div class="form-check">
                                                                        <input class="form-check-input" type="checkbox"
                                                                                value="Swimming Pool" id="pool"
                                                                                name="amenities" <%
                                                                                if(editNeeded.amenities?.includes('Swimming Pool')) { %>checked<% } %>><label class="form-check-label" for="pool">Swimming Pool</label>
                                                                </div>
                                                        </div>
                                                </div>
                                        </div>
                                        <button class="btn btn-dark edit-btn mt-4 mb-4">Save</button>
                                </form>
                        </div>
                </div>
        </body>